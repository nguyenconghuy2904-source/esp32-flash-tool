(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{96:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>b});var s=r(5155),i=r(2115);let a=e=>{let{port:t,isConnected:r}=e,[a,n]=(0,i.useState)(!1),[o,l]=(0,i.useState)(""),[c,d]=(0,i.useState)(null),h=(0,i.useRef)(null),m=(0,i.useRef)(!1);(0,i.useEffect)(()=>{r&&t||x()},[r,t]);let u=async()=>{if(t&&r){n(!0),m.current=!0,d(null);try{if(!t.readable)throw Error("Thiết bị kh\xf4ng hỗ trợ đọc dữ liệu");let e=new TextDecoder;for(h.current=t.readable.getReader();m.current&&h.current;)try{let{value:t,done:r}=await h.current.read();if(r)break;if(t){let r=e.decode(t);l(e=>e+r)}}catch(e){if("AbortError"!==e.name)throw e;break}}catch(e){"AbortError"!==e.name&&d("Kh\xf4ng thể đọc dữ liệu: "+e.message),n(!1),m.current=!1}}},x=async()=>{m.current=!1,n(!1);try{h.current&&(await h.current.cancel(),h.current.releaseLock(),h.current=null)}catch(e){console.error("Error stopping monitor:",e)}},p=async()=>{if(t)try{if(!t.writable)throw Error("Thiết bị kh\xf4ng hỗ trợ ghi dữ liệu");let e=t.writable.getWriter();await e.write(new Uint8Array([4])),e.releaseLock()}catch(e){d("Lỗi khi reset thiết bị: "+e.message)}};return(0,s.jsxs)("div",{className:"bg-accent-lightBlue border-2 border-accent-blue/30 rounded-lg shadow-lg p-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold mb-4 text-primary",children:"\uD83D\uDCE1 Serial Monitor"}),r?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex gap-2 mb-4",children:[(0,s.jsx)("button",{className:"px-4 py-2 rounded-lg font-medium shadow-md transition-colors ".concat(a?"bg-yellow-500 text-white hover:bg-yellow-600":"bg-primary text-white hover:bg-primary-dark"),onClick:a?x:u,children:a?"⏸️ Tắt Monitor":"▶️ Bật Monitor"}),(0,s.jsx)("button",{className:"px-4 py-2 bg-secondary text-primary rounded-lg hover:bg-secondary-dark font-medium shadow-md transition-colors",onClick:p,children:"\uD83D\uDD04 Reset thiết bị"}),(0,s.jsx)("button",{className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 font-medium shadow-md transition-colors",onClick:()=>l(""),children:"�️ X\xf3a m\xe0n h\xecnh"})]}),(0,s.jsx)("div",{className:"border-2 border-primary/20 rounded-lg bg-white p-3 h-96 overflow-y-auto font-mono text-sm text-primary shadow-inner whitespace-pre-wrap",children:o||"Chưa c\xf3 dữ liệu từ thiết bị..."})]}):(0,s.jsx)("div",{className:"p-4 bg-yellow-50 border-2 border-yellow-400 rounded-lg text-yellow-800 text-sm font-medium mb-4",children:"⚠️ Vui l\xf2ng kết nối thiết bị ở phần tr\xean để sử dụng Monitor"}),c&&(0,s.jsx)("div",{className:"mt-3 p-3 bg-red-50 border-2 border-red-400 rounded-lg text-red-700 text-sm font-medium",children:c})]})};var n=r(5239);class o{async fetchApi(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r="".concat(this.baseUrl).concat(e),s=await fetch(r,{headers:{"Content-Type":"application/json",...t.headers},...t});if(!s.ok)throw Error((await s.json().catch(()=>({}))).message||"HTTP ".concat(s.status));return s.json()}async validateKey(e,t){return this.fetchApi("/auth",{method:"POST",body:JSON.stringify({key:e,deviceId:t})})}async checkKeyStatus(e){return this.fetchApi("/auth?key=".concat(encodeURIComponent(e)))}async getStats(){return this.fetchApi("/stats")}constructor(e="https://api.minizjp.com"){this.baseUrl=e}}let l=new o;async function c(e,t){return l.validateKey(e,t)}var d=r(6724);class h{getPort(){return this.port}async connect(){try{if(!("serial"in navigator))throw Error("WebSerial API kh\xf4ng được hỗ trợ");if(this.port=await navigator.serial.requestPort({}),!this.port)throw Error("Kh\xf4ng thể lấy được port");return await this.port.open({baudRate:921600,dataBits:8,stopBits:1,parity:"none",flowControl:"none",bufferSize:65536}),this.transport=new d.oK(this.port),this.espLoader=new d.gl({transport:this.transport,baudrate:921600,romBaudrate:115200,terminal:{clean:()=>{},writeLine:e=>console.log("ESP32:",e),write:e=>console.log("ESP32:",e)}}),!0}catch(e){return console.error("Connection error:",e),!1}}async disconnect(){try{this.espLoader&&(await this.espLoader.after(),this.espLoader=null),this.transport&&(this.transport=null),this.port&&(await this.port.close(),this.port=null)}catch(e){console.error("Error during disconnect:",e)}}async enterBootloader(){try{if(!this.espLoader)throw Error("ESP32 chưa được kết nối");return await this.espLoader.connect(),!0}catch(e){return console.error("Enter bootloader error:",e),!1}}async flashFirmware(e,t){try{if(!this.espLoader)throw Error("Thiết bị chưa được kết nối");null==t||t({stage:"connecting",progress:0,message:"Đang kết nối với ESP32..."}),await this.espLoader.connect();let r=await this.espLoader.detectChip();console.log("Detected chip:",r),null==t||t({stage:"erasing",progress:10,message:"Đang x\xf3a flash memory..."}),await this.espLoader.eraseFlash(),null==t||t({stage:"writing",progress:20,message:"Đang ghi firmware..."});let s=new Uint8Array(e),i=btoa(String.fromCharCode(...s));return await this.espLoader.writeFlash({fileArray:[{data:i,address:0}],flashSize:"keep",flashMode:"dio",flashFreq:"40m",eraseAll:!1,compress:!0,reportProgress:(e,r,s)=>{null==t||t({stage:"writing",progress:20+r/s*60,message:"Đ\xe3 ghi ".concat((r/1024).toFixed(0),"KB/").concat((s/1024).toFixed(0),"KB (").concat((r/s*100).toFixed(1),"%)")})},calculateMD5Hash:e=>""}),null==t||t({stage:"verifying",progress:85,message:"Đang kiểm tra firmware..."}),null==t||t({stage:"complete",progress:100,message:"Nạp firmware th\xe0nh c\xf4ng!"}),!0}catch(e){return console.error("Flash error:",e),null==t||t({stage:"error",progress:0,message:"Lỗi: ".concat(e.message)}),!1}}isConnected(){return null!==this.port&&null!==this.espLoader}async getDeviceInfo(){try{if(!this.espLoader)return null;return"ESP32-S3"}catch(e){return null}}constructor(){this.port=null,this.espLoader=null,this.transport=null}}class m{async fetchReleases(){try{let e=await fetch("".concat(this.apiBase,"/repos/").concat(this.owner,"/").concat(this.repo,"/releases"));if(!e.ok)throw Error("GitHub API error: ".concat(e.status));return await e.json()}catch(e){return console.error("Error fetching releases:",e),[]}}async fetchReleasesFromRepo(e,t){let r="".concat(e,"/").concat(t);if(this.releaseCache.has(r))return this.releaseCache.get(r)||[];try{let s=await fetch("".concat(this.apiBase,"/repos/").concat(e,"/").concat(t,"/releases"));if(!s.ok)throw Error("GitHub API error: ".concat(s.status));let i=await s.json();return this.releaseCache.set(r,i),i}catch(r){return console.error("Error fetching releases from ".concat(e,"/").concat(t,":"),r),[]}}async getFirmwareList(){let e=await this.fetchReleases(),t=[];for(let r of e)for(let e of r.assets)if(e.name.endsWith(".bin")){let s={name:e.name,version:r.tag_name,description:r.body||r.name,downloadUrl:e.browser_download_url,size:e.size,uploadDate:r.published_at||r.created_at,chipType:this.extractChipType(e.name),compatibility:this.extractCompatibility(r.body)};t.push(s)}return t.sort((e,t)=>new Date(t.uploadDate).getTime()-new Date(e.uploadDate).getTime())}async getFirmwareListFromRepo(e,t){let r=await this.fetchReleasesFromRepo(e,t),s=[];if(0===r.length)return console.warn("No releases found for ".concat(e,"/").concat(t,". Please create a GitHub Release with firmware files.")),[];for(let e of r)for(let t of e.assets)if(t.name.endsWith(".bin")){let r={name:t.name,version:e.tag_name,description:e.body||e.name,downloadUrl:t.browser_download_url,size:t.size,uploadDate:e.published_at||e.created_at,chipType:this.extractChipType(t.name),compatibility:this.extractCompatibility(e.body)};s.push(r)}return s.sort((e,t)=>new Date(t.uploadDate).getTime()-new Date(e.uploadDate).getTime())}async downloadFirmware(e){try{let t=await fetch(e,{method:"GET",headers:{Accept:"application/octet-stream"},mode:"cors",cache:"no-cache",redirect:"follow"});if(!t.ok)throw Error("Download failed: ".concat(t.status));return await t.arrayBuffer()}catch(r){console.error("Direct download failed, trying alternative method:",r);let t=await fetch(e,{mode:"no-cors"});if(!t.ok&&"opaque"!==t.type)throw Error("Download failed: ".concat(t.status));return await t.arrayBuffer()}}extractChipType(e){let t=e.match(/(esp32[-_]?s?[0-9]*)/i);return t?t[1].toUpperCase():"ESP32-S3"}extractCompatibility(e){if(!e)return[];let t=e.match(/compatibility[:\s]*([^\n\r]*)/i);return t?t[1].split(/[,;]/).map(e=>e.trim()).filter(e=>e.length>0):[]}getRepositoryUrl(){return"https://github.com/".concat(this.owner,"/").concat(this.repo)}getReleasesUrl(){return"".concat(this.getRepositoryUrl(),"/releases")}constructor(e){this.apiBase="https://api.github.com",this.releaseCache=new Map;let[t,r]=(e||"nguyenconghuy2904-source/esp32-flash-tool").split("/");this.owner=t,this.repo=r}}let u=new m,x={"kiki-day":{id:"kiki-day",name:"Kiki đ\xe2y",repository:"nguyenconghuy2904-source/xiaozhi-esp32-kiki-day",owner:"nguyenconghuy2904-source",repo:"xiaozhi-esp32-kiki-day"},"robot-otto":{id:"robot-otto",name:"Robot Otto",repository:"nguyenconghuy2904-source/robot-otto-firmware",owner:"nguyenconghuy2904-source",repo:"robot-otto-firmware"},dogmaster:{id:"dogmaster",name:"Th\xf9ng R\xe1c Th\xf4ng Minh",repository:"nguyenconghuy2904-source/smart-trash-bin-firmware",owner:"nguyenconghuy2904-source",repo:"smart-trash-bin-firmware"},"smart-switch-pc":{id:"smart-switch-pc",name:"Smart Switch PC",repository:"nguyenconghuy2904-source/smart-switch-pc-firmware",owner:"nguyenconghuy2904-source",repo:"smart-switch-pc-firmware"}},p=[{id:"esp32-s3",name:"ESP32-S3",image:"/images/esp32-s3.jpg",description:"ESP32-S3 DevKit với WiFi, Bluetooth, Camera support",specs:"240MHz, 512KB SRAM, WiFi 4, Bluetooth 5.0"},{id:"esp32-s3-zero",name:"ESP32-S3 Zero",image:"/images/esp32-s3-zero.jpg",description:"ESP32-S3 Zero form factor nhỏ gọn",specs:"240MHz, 512KB SRAM, Size nhỏ gọn"},{id:"esp32-c3-super-mini",name:"ESP32-C3 Super Mini",image:"/images/esp32-c3.jpg",description:"ESP32-C3 Super Mini si\xeau nhỏ, gi\xe1 rẻ",specs:"160MHz, 400KB SRAM, WiFi 4, Bluetooth 5.0"}],g=[{id:"kiki-day",name:"Kiki đ\xe2y",description:"Firmware đặc biệt d\xe0nh ri\xeang cho kh\xe1ch h\xe0ng VIP",image:"/images/kiki-day.png",features:["⭐ Phi\xean bản đặc biệt cho kh\xe1ch h\xe0ng","\uD83C\uDF81 T\xednh năng độc quyền","\uD83D\uDD10 Bảo mật cao cấp","\uD83D\uDC8E Hỗ trợ ưu ti\xean","\uD83D\uDE80 Cập nhật sớm nhất","\uD83C\uDFAF T\xf9y chỉnh theo y\xeau cầu"],requiresKey:!0,youtubeUrl:"https://youtube.com/watch?v=demo-kiki",schematicUrl:"/schematics/kiki-day.pdf",file3dUrl:"/3d-files/kiki-day.zip",version:"v1.0.0 VIP",versions:[{id:"kiki-s3",name:"ESP32-S3",description:"Phi\xean bản VIP đặc biệt",chip:"esp32-s3",requiresKey:!0}],notes:["⚠️ Y\xeau cầu key k\xedch hoạt ri\xeang","✔️ D\xe0nh cho kh\xe1ch h\xe0ng đ\xe3 mua g\xf3i VIP","✔️ Li\xean hệ Zalo 0389827643 để nhận key"]},{id:"robot-otto",name:"Robot Otto",description:"Firmware điều khiển robot Otto với AI v\xe0 học m\xe1y",image:"/images/robot-otto.png",features:["\uD83E\uDD16 Điều khiển robot Otto th\xf4ng minh","\uD83C\uDFB5 Nhận diện giọng n\xf3i v\xe0 \xe2m thanh","\uD83D\uDC41️ Camera AI nhận diện đối tượng","\uD83D\uDCF1 App điều khiển từ xa","\uD83C\uDFAE Chế độ game tương t\xe1c","\uD83D\uDD0B Quản l\xfd pin th\xf4ng minh"],requiresKey:!1,youtubeUrl:"https://youtube.com/watch?v=demo-otto",schematicUrl:"/schematics/robot-otto-wiring.pdf",file3dUrl:"https://github.com/nguyenconghuy2904-source/robot-otto-firmware/releases/download/v1.0.0/robot-otto-3d-files.zip",version:"v2.1.5",versions:[{id:"otto-s3",name:"ESP32-S3",description:"Version cao cấp với camera",chip:"esp32-s3",requiresKey:!1},{id:"otto-s3-zero",name:"ESP32-S3 Zero",description:"Version compact nhỏ gọn",chip:"esp32-s3-zero",requiresKey:!1},{id:"otto-c3",name:"ESP32-C3 Super Mini",description:"Version si\xeau tiết kiệm",chip:"esp32-c3-super-mini",requiresKey:!1}],notes:["✔️ Miễn ph\xed, kh\xf4ng cần key","✔️ Tương th\xedch với tất cả c\xe1c model Otto","✔️ Hỗ trợ nhiều cảm biến: ultrasonic, camera, mic"]},{id:"dogmaster",name:"Th\xf9ng R\xe1c Th\xf4ng Minh",description:"Hệ thống quản l\xfd th\xf9ng r\xe1c tự động với AI ph\xe2n loại r\xe1c",image:"/images/smart-trash-bin.png",features:["♻️ Ph\xe2n loại r\xe1c tự động AI","\uD83D\uDEAA Nắp th\xf9ng mở tự động","� Theo d\xf5i mức đầy r\xe1c","� Th\xf4ng b\xe1o khi đầy","\uD83D\uDCF1 Ứng dụng điều khiển từ xa","� T\xedch hợp IoT th\xf4ng minh"],requiresKey:!0,youtubeUrl:"https://youtube.com/watch?v=demo-smart-trash",schematicUrl:"/schematics/smart-trash-bin-setup.pdf",file3dUrl:"/3d-files/smart-trash-bin.zip",version:"v1.8.2",versions:[{id:"trash-s3",name:"ESP32-S3",description:"Version đầy đủ AI",chip:"esp32-s3",requiresKey:!0},{id:"trash-c3",name:"ESP32-C3 Super Mini",description:"Version ti\xeau chuẩn",chip:"esp32-c3-super-mini",requiresKey:!0}],notes:["✔️ Kết nối cảm biến c\xe2n tải, camera AI","✔️ T\xedch hợp ML nhận diện loại r\xe1c","⚠️ Cần key để unlock t\xednh năng AI"]}];function b(){var e;let[t,r]=(0,i.useState)("esp32-s3"),[o,l]=(0,i.useState)(null),[d,m]=(0,i.useState)(""),[b,y]=(0,i.useState)(!1),[f,w]=(0,i.useState)(""),[j,v]=(0,i.useState)(null),[N,D]=(0,i.useState)(!1),[k,C]=(0,i.useState)(!1),[S,E]=(0,i.useState)(""),[T,P]=(0,i.useState)(!1),[F,A]=(0,i.useState)(!1),[K,B]=(0,i.useState)("flash"),[U,L]=(0,i.useState)(null),[z,I]=(0,i.useState)(!1),[M,R]=(0,i.useState)(null),_=(0,i.useRef)(new h);p.find(e=>e.id===t);let q=g.find(e=>e.id===o);(0,i.useEffect)(()=>{localStorage.getItem("hasSeenYouTubeAd")||setTimeout(()=>{A(!0),localStorage.setItem("hasSeenYouTubeAd","true")},3e3)},[]);let V=async()=>{var e,t,r,s;if(d.trim()){D(!0);try{let r=function(){let e=document.createElement("canvas"),t=e.getContext("2d");t&&(t.textBaseline="top",t.font="14px Arial",t.fillText("Device fingerprint",2,2));let r=[navigator.userAgent,navigator.language,screen.width+"x"+screen.height,new Date().getTimezoneOffset(),e.toDataURL()].join("|"),s=0;for(let e=0;e<r.length;e++)s=(s<<5)-s+r.charCodeAt(e),s&=s;return"device-".concat(Math.abs(s).toString(16))}(),s=await c(d.trim(),r);s.success?(C(!0),E(s.deviceId||r),w("✅ Key hợp lệ! Sẵn s\xe0ng để flash firmware.")):((null==(e=s.message)?void 0:e.includes("chặn"))||(null==(t=s.message)?void 0:t.includes("spam"))?w("\uD83D\uDEAB ".concat(s.message)):w("❌ ".concat(s.message)),C(!1))}catch(e){(null==(r=e.message)?void 0:r.includes("429"))||(null==(s=e.message)?void 0:s.includes("Too many"))?w("\uD83D\uDEAB Qu\xe1 nhiều lần thử! Vui l\xf2ng chờ 15 ph\xfat v\xe0 thử lại."):w("❌ Lỗi kết nối API. Vui l\xf2ng thử lại."),C(!1)}finally{D(!1)}}},O=async()=>{if(!("serial"in navigator))return void w("❌ Tr\xecnh duyệt kh\xf4ng hỗ trợ WebSerial API. Vui l\xf2ng d\xf9ng Chrome, Edge, hoặc Opera (kh\xf4ng phải Firefox/Safari)");if("https:"!==window.location.protocol&&!window.location.hostname.includes("localhost")&&"127.0.0.1"!==window.location.hostname)return void w("❌ WebSerial chỉ hoạt động tr\xean HTTPS hoặc localhost");try{if(w("\uD83D\uDD0C Đang kết nối với ESP32..."),await _.current.connect()){let e=_.current.getPort();L(e),y(!0),w("✅ Đ\xe3 kết nối với ESP32!")}else w("❌ Kh\xf4ng thể kết nối. Vui l\xf2ng thử lại."),y(!1)}catch(e){console.error("Connection error:",e),"NotFoundError"===e.name?w("❌ Kh\xf4ng t\xecm thấy thiết bị USB. Vui l\xf2ng cắm ESP32 v\xe0 thử lại."):"NotAllowedError"===e.name||"SecurityError"===e.name?w("❌ Bạn đ\xe3 từ chối quyền truy cập. Vui l\xf2ng thử lại v\xe0 cho ph\xe9p kết nối."):"NetworkError"===e.name?w("❌ Thiết bị đang được sử dụng bởi ứng dụng kh\xe1c. Đ\xf3ng Arduino IDE, PlatformIO, hoặc ứng dụng serial kh\xe1c."):w("❌ Lỗi kết nối: ".concat(e.message)),y(!1)}},H=async()=>{try{w("\uD83D\uDD0C Đang ngắt kết nối..."),await _.current.disconnect(),L(null),y(!1),w("✅ Đ\xe3 ngắt kết nối!")}catch(e){console.error("Disconnect error:",e),w("❌ Lỗi ngắt kết nối: ".concat(e.message))}},Z=async e=>{let r=e||o,s=g.find(e=>e.id===r);if(!t||!r)return void w("❌ Vui l\xf2ng chọn chip v\xe0 firmware!");if((null==s?void 0:s.requiresKey)&&!k)return void w("❌ Firmware n\xe0y y\xeau cầu key hợp lệ!");if(!b)return void w("❌ Vui l\xf2ng kết nối với ESP32 trước!");try{w("\uD83D\uDCE5 Đang tải firmware...");let e=x[r];if(!e)return void w("❌ Kh\xf4ng t\xecm thấy cấu h\xecnh firmware!");let s=await u.getFirmwareListFromRepo(e.owner,e.repo);console.log("Firmware list:",s),console.log("Selected chip:",t);let i="".concat(t),a=s.find(e=>e.name.toLowerCase().includes(i.toLowerCase()));if(!a){w("❌ Kh\xf4ng t\xecm thấy firmware ph\xf9 hợp! (T\xecm: ".concat(i,", C\xf3: ").concat(s.map(e=>e.name).join(", "),")")),console.error("Available firmware:",s);return}console.log("Selected firmware:",a),w("⬇️ Đang tải firmware...");let n="https://firmware-proxy.minizjp.workers.dev?url=".concat(encodeURIComponent(a.downloadUrl)),o=await fetch(n,{method:"GET",headers:{Accept:"application/octet-stream"}});if(!o.ok){let e=await o.text();throw Error("Kh\xf4ng thể tải firmware: ".concat(e))}let l=await o.arrayBuffer();w("\uD83D\uDD04 Đang flash firmware..."),await _.current.flashFirmware(l,e=>{v(e),w("⏳ Flashing... ".concat(e.progress,"%"))}),w("\uD83C\uDF89 Flash firmware th\xe0nh c\xf4ng!"),v(null),(null==q?void 0:q.youtubeUrl)&&setTimeout(()=>A(!0),2e3)}catch(e){w("❌ Lỗi flash: ".concat(e.message)),v(null)}};return(0,s.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,s.jsx)("header",{className:"bg-primary shadow-xl border-b-4 border-primary-dark",style:{boxShadow:"0 10px 30px rgba(0,136,122,0.3)"},children:(0,s.jsx)("div",{className:"container mx-auto px-4 py-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("div",{className:"w-12 h-12 bg-white rounded-xl flex items-center justify-center shadow-lg",style:{boxShadow:"0 8px 25px rgba(0,0,0,0.2), inset 0 1px 0 rgba(255,255,255,0.5)"},children:(0,s.jsx)("span",{className:"text-primary font-bold text-xl",children:"MZ"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-white",children:"MinizFlash Tool"}),(0,s.jsx)("p",{className:"text-white/80 text-sm",children:"C\xf4ng cụ nạp firmware cho ESP32 với x\xe1c thực key"})]})]}),(0,s.jsxs)("div",{className:"text-right text-white/80 text-sm",children:[(0,s.jsx)("p",{children:"\uD83D\uDCBB Vui l\xf2ng sử dụng m\xe1y t\xednh để nạp chương tr\xecnh"}),(0,s.jsx)("p",{children:"\uD83D\uDD27 Nhấn giữ n\xfat BOOT v\xe0 cắm c\xe1p nếu bị lỗi"})]})]})})}),(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,s.jsx)("div",{className:"bg-secondary border-2 border-secondary-dark rounded-2xl p-6 mb-8 shadow-lg",style:{boxShadow:"0 15px 35px rgba(0,136,122,0.15)"},children:(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)("div",{className:"text-3xl bg-primary rounded-full w-16 h-16 flex items-center justify-center shadow-lg text-white",children:"\uD83D\uDCAC"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-primary font-bold text-lg",children:"Li\xean hệ hỗ trợ"}),(0,s.jsx)("p",{className:"text-primary-dark text-sm mb-2",children:"Để được hướng dẫn chi tiết v\xe0 hỗ trợ kỹ thuật"}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)("a",{href:"http://zalo.me/0389827643",className:"bg-accent-blue hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-all transform hover:scale-105 shadow-md",children:"\uD83D\uDCF1 Zalo: 0389827643"}),(0,s.jsx)("a",{href:"https://www.youtube.com/@miniZjp",target:"_blank",rel:"noopener noreferrer",className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-all transform hover:scale-105 shadow-md",children:"\uD83C\uDFA5 YouTube"})]})]})]})}),(0,s.jsxs)("section",{className:"mb-12",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("h2",{className:"text-4xl font-bold text-primary mb-2",style:{textShadow:"0 4px 8px rgba(0,136,122,0.15)"},children:"Kho Firmware Minizjp"}),(0,s.jsx)("p",{className:"text-primary-dark text-lg",children:"Chọn chương tr\xecnh v\xe0 phi\xean bản chip bạn muốn nạp"})]}),(0,s.jsx)("div",{className:"mb-8 flex justify-center",children:(0,s.jsx)("div",{className:"inline-flex bg-gray-800 rounded-xl p-1 shadow-xl",children:p.map(e=>(0,s.jsx)("button",{onClick:()=>r(e.id),className:"px-8 py-3 rounded-lg font-medium transition-all ".concat(t===e.id?"bg-white text-gray-900 shadow-lg":"text-gray-300 hover:text-white"),children:e.name},e.id))})}),"esp32-s3"===t?(0,s.jsx)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:g.map(e=>(0,s.jsxs)("div",{className:"bg-white border-2 border-primary/20 rounded-xl overflow-hidden shadow-lg hover:shadow-xl transition-shadow",children:[(0,s.jsxs)("div",{className:"relative w-full aspect-square bg-gray-900 overflow-hidden",children:[e.image?(0,s.jsx)(n.default,{src:e.image,alt:e.name,fill:!0,className:"object-cover"}):(0,s.jsx)("div",{className:"w-full h-full flex items-center justify-center text-white/50 text-4xl",children:"\uD83D\uDCF1"}),(0,s.jsx)("div",{className:"absolute top-2 right-2",children:(0,s.jsx)("div",{className:"px-2 py-1 rounded text-xs font-medium backdrop-blur-md ".concat(e.requiresKey?"bg-white/20 text-white border border-white/30":"bg-green-500 text-white"),children:e.requiresKey?"\uD83D\uDD11":"\uD83C\uDD93"})})]}),(0,s.jsxs)("div",{className:"p-3",children:[(0,s.jsx)("h3",{className:"text-base font-bold text-primary mb-1",children:e.name}),(0,s.jsx)("p",{className:"text-gray-600 text-xs mb-2 line-clamp-2",children:e.description}),(0,s.jsxs)("div",{className:"flex gap-1 mb-2 flex-wrap",children:[e.youtubeUrl&&(0,s.jsx)("a",{href:e.youtubeUrl,target:"_blank",rel:"noopener noreferrer",className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-2 py-0.5 rounded text-xs transition-colors",children:"\uD83D\uDCFA"}),e.schematicUrl&&(0,s.jsx)("a",{href:e.schematicUrl,target:"_blank",rel:"noopener noreferrer",className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-2 py-0.5 rounded text-xs transition-colors",children:"\uD83D\uDCCB"}),e.file3dUrl&&(0,s.jsx)("a",{href:e.file3dUrl,target:"_blank",rel:"noopener noreferrer",className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-2 py-0.5 rounded text-xs transition-colors",children:"\uD83D\uDDC2️"})]})]}),(0,s.jsx)("div",{className:"px-3 pb-2 border-t border-gray-100 pt-2",children:(0,s.jsx)("div",{className:"space-y-1",children:e.features.slice(0,3).map((e,t)=>(0,s.jsxs)("div",{className:"text-xs text-gray-700 flex items-start",children:[(0,s.jsx)("span",{className:"text-green-500 mr-1 text-xs",children:"✓"}),(0,s.jsx)("span",{className:"line-clamp-1",children:e})]},t))})}),(0,s.jsxs)("div",{className:"p-3 pt-2",children:[(0,s.jsx)("button",{onClick:()=>{R(e.id),I(!0)},className:"w-full bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded-lg text-sm font-medium transition-colors mb-2",children:"Nạp FW"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[e.schematicUrl&&(0,s.jsx)("a",{href:e.schematicUrl,target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 px-2 py-1.5 rounded text-center text-xs font-medium transition-colors",children:"\uD83D\uDCCB"}),e.file3dUrl&&(0,s.jsx)("a",{href:e.file3dUrl,target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 px-2 py-1.5 rounded text-center text-xs font-medium transition-colors",children:"\uD83D\uDDC2️"})]})]})]},e.id))}):(0,s.jsxs)("div",{className:"text-center py-12 bg-yellow-50 border-2 border-yellow-400 rounded-lg",children:[(0,s.jsx)("p",{className:"text-yellow-800 font-bold text-lg",children:"\uD83D\uDCE6 Chip n\xe0y c\xf2n đang ph\xe1t triển"}),(0,s.jsx)("p",{className:"text-yellow-700 text-sm mt-2",children:"Vui l\xf2ng quay lại sau"})]})]}),o&&(null==q?void 0:q.requiresKey)&&(0,s.jsx)("section",{className:"mb-12",children:(0,s.jsxs)("div",{className:"bg-secondary border-2 border-secondary-dark rounded-xl p-6 shadow-lg max-w-md",children:[(0,s.jsx)("h3",{className:"text-xl font-bold text-primary mb-4",children:"\uD83D\uDD11 X\xe1c Thực Key"}),(0,s.jsx)("p",{className:"text-primary-dark mb-4",children:"Firmware n\xe0y y\xeau cầu key để sử dụng:"}),(0,s.jsxs)("div",{className:"flex space-x-4",children:[(0,s.jsx)("input",{type:"text",placeholder:"Nhập 9 số key...",value:d,onChange:e=>m(e.target.value.replace(/\D/g,"").slice(0,9)),className:"flex-1 bg-white border-2 border-primary/30 rounded-xl px-6 py-4 text-primary placeholder-gray-400 focus:outline-none focus:border-primary shadow-lg",maxLength:9,pattern:"[0-9]*"}),(0,s.jsxs)("button",{onClick:V,disabled:N||!d.trim(),className:"bg-primary hover:bg-primary-dark disabled:opacity-50 disabled:cursor-not-allowed text-white px-6 py-3 rounded-lg font-medium transition-colors",children:[N?"⏳":"\uD83D\uDD13"," X\xe1c thực"]})]}),k&&(0,s.jsxs)("div",{className:"mt-4 text-primary font-semibold text-sm",children:["✅ Key hợp lệ! Device ID: ",S.slice(0,16),"..."]})]})}),t&&o&&(null==q||!q.requiresKey||k)&&(0,s.jsx)("section",{className:"mb-12",children:(0,s.jsxs)("div",{className:"bg-accent-lightBlue border-2 border-accent-blue/30 rounded-xl p-6 shadow-lg",children:[(0,s.jsxs)("div",{className:"flex space-x-2 mb-6 border-b-2 border-primary/20",children:[(0,s.jsx)("button",{onClick:()=>B("flash"),className:"px-6 py-3 font-medium transition-colors ".concat("flash"===K?"text-primary border-b-4 border-primary -mb-0.5":"text-gray-500 hover:text-primary"),children:"⚡ Flash Firmware"}),(0,s.jsx)("button",{onClick:()=>B("monitor"),className:"px-6 py-3 font-medium transition-colors ".concat("monitor"===K?"text-primary border-b-4 border-primary -mb-0.5":"text-gray-500 hover:text-primary"),children:"\uD83D\uDCE1 Serial Monitor"})]}),(0,s.jsxs)("div",{className:"mb-6 p-4 bg-white border-2 border-primary/20 rounded-lg flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"w-3 h-3 rounded-full ".concat(b?"bg-green-500 animate-pulse":"bg-gray-300")}),(0,s.jsx)("span",{className:"text-primary font-medium",children:b?"✅ Đ\xe3 kết nối ESP32":"⚠️ Chưa kết nối"})]}),(0,s.jsx)("div",{className:"flex space-x-2",children:b?(0,s.jsx)("button",{onClick:H,className:"bg-red-500 hover:bg-red-600 text-white px-6 py-2 rounded-lg font-medium transition-colors shadow-md",children:"\uD83D\uDD0C Ngắt kết nối"}):(0,s.jsx)("button",{onClick:O,className:"bg-accent-blue hover:bg-blue-700 text-white px-6 py-2 rounded-lg font-medium transition-colors shadow-md",children:"\uD83D\uDD0C Kết nối thiết bị"})})]}),"flash"===K&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-xl font-bold text-primary mb-4",children:"\uD83D\uDE80 Nạp Firmware"}),!b&&(0,s.jsx)("div",{className:"mb-4 p-4 bg-yellow-50 border-2 border-yellow-400 rounded-lg text-yellow-800 text-sm font-medium",children:"⚠️ Vui l\xf2ng kết nối thiết bị ESP32 ở ph\xeda tr\xean để bắt đầu"}),(0,s.jsx)("button",{onClick:()=>Z(),disabled:!b||null!==j,className:"w-full bg-primary hover:bg-primary-dark disabled:opacity-50 disabled:cursor-not-allowed text-white border-2 border-primary-dark rounded-lg px-6 py-4 font-medium transition-colors shadow-md mb-4",children:j?"⏳ Đang nạp...":"⚡ Bắt đầu nạp Firmware"}),j&&(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm text-primary font-semibold mb-2",children:[(0,s.jsxs)("span",{children:["Tiến độ: ",j.progress,"%"]}),(0,s.jsx)("span",{children:j.stage})]}),(0,s.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3 border border-primary/20",children:(0,s.jsx)("div",{className:"bg-primary h-3 rounded-full transition-all duration-300 shadow-md",style:{width:"".concat(j.progress,"%")}})})]}),f&&(0,s.jsx)("div",{className:"\n                      p-4 rounded-lg text-sm font-medium border-2\n                      ".concat(f.includes("✅")||f.includes("\uD83C\uDF89")?"bg-green-50 border-green-500 text-green-700":f.includes("❌")?"bg-red-50 border-red-500 text-red-700":"bg-accent-lightBlue border-accent-blue text-primary","\n                    "),children:f})]}),"monitor"===K&&(0,s.jsx)(a,{port:U,isConnected:b})]})}),(0,s.jsx)("section",{className:"mb-12",children:(0,s.jsxs)("div",{className:"bg-secondary border-2 border-secondary-dark rounded-xl p-6 shadow-lg",children:[(0,s.jsx)("h3",{className:"text-xl font-bold text-primary mb-4",children:"\uD83D\uDCCB Hướng dẫn sử dụng:"}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 text-sm text-primary-dark",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold mb-2",children:"\uD83D\uDD0C Kết nối ESP32:"}),(0,s.jsxs)("ol",{className:"space-y-1 list-decimal list-inside",children:[(0,s.jsx)("li",{children:"Kết nối ESP32 với m\xe1y t\xednh qua USB"}),(0,s.jsx)("li",{children:"Nhấn giữ n\xfat BOOT nếu cần thiết"}),(0,s.jsx)("li",{children:"Chọn đ\xfang loại chip"}),(0,s.jsx)("li",{children:'Nhấn "Kết nối ESP32"'}),(0,s.jsx)("li",{children:"Chọn cổng COM xuất hiện"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold mb-2",children:"⚡ Nạp firmware:"}),(0,s.jsxs)("ol",{className:"space-y-1 list-decimal list-inside",children:[(0,s.jsx)("li",{children:"Nhập key nếu firmware y\xeau cầu"}),(0,s.jsx)("li",{children:"Chọn firmware ph\xf9 hợp"}),(0,s.jsx)("li",{children:'Nhấn "Bắt đầu nạp Firmware"'}),(0,s.jsx)("li",{children:"Chờ qu\xe1 tr\xecnh ho\xe0n tất"}),(0,s.jsx)("li",{children:"Reset ESP32 để sử dụng"})]})]})]}),(0,s.jsxs)("div",{className:"mt-6 p-4 bg-yellow-50 border-2 border-yellow-400 rounded-lg",children:[(0,s.jsxs)("p",{className:"text-yellow-800 text-sm mb-3",children:[(0,s.jsx)("strong",{children:"\uD83D\uDCA1 Lưu \xfd bảo mật:"})," Mỗi key chỉ c\xf3 thể sử dụng với một thiết bị duy nhất."]}),(0,s.jsxs)("div",{className:"bg-red-50 border-l-4 border-red-500 p-3 mb-3",children:[(0,s.jsxs)("p",{className:"text-red-800 text-sm font-semibold",children:[(0,s.jsx)("strong",{children:"\uD83D\uDEAB Chống spam:"})," Hệ thống c\xf3 rate limiting - tối đa 5 lần thử sai trong 15 ph\xfat."]}),(0,s.jsx)("p",{className:"text-red-700 text-xs mt-1",children:"Nếu spam key sai, IP của bạn sẽ bị chặn 60 ph\xfat. Kh\xf4ng thể brute force!"})]}),(0,s.jsxs)("details",{className:"text-yellow-800 text-sm",children:[(0,s.jsx)("summary",{className:"cursor-pointer font-semibold",children:"\uD83D\uDD27 Xử l\xfd lỗi thường gặp"}),(0,s.jsxs)("div",{className:"mt-3 space-y-2 pl-4",children:[(0,s.jsx)("p",{children:(0,s.jsx)("strong",{children:"❌ Kh\xf4ng hiện popup chọn USB:"})}),(0,s.jsxs)("ul",{className:"list-disc pl-5 space-y-1",children:[(0,s.jsx)("li",{children:"D\xf9ng Chrome, Edge, hoặc Opera (kh\xf4ng phải Firefox/Safari)"}),(0,s.jsx)("li",{children:"Website phải chạy tr\xean HTTPS hoặc localhost"}),(0,s.jsx)("li",{children:"Kiểm tra c\xe1p USB c\xf3 kết nối tốt kh\xf4ng"}),(0,s.jsx)("li",{children:"Thử cổng USB kh\xe1c tr\xean m\xe1y t\xednh"})]}),(0,s.jsx)("p",{className:"mt-2",children:(0,s.jsx)("strong",{children:"❌ Kh\xf4ng t\xecm thấy thiết bị:"})}),(0,s.jsxs)("ul",{className:"list-disc pl-5 space-y-1",children:[(0,s.jsx)("li",{children:"C\xe0i driver CH340/CP2102 cho ESP32"}),(0,s.jsx)("li",{children:"Đ\xf3ng Arduino IDE, PlatformIO hoặc app serial kh\xe1c"}),(0,s.jsx)("li",{children:"Thử nhấn giữ n\xfat BOOT khi cắm USB"})]})]})]})]})]})})]}),T&&q&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,s.jsx)("div",{className:"bg-gradient-to-r from-gray-900 to-gray-800 rounded-2xl max-w-4xl max-h-[90vh] overflow-y-auto",children:(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-white",children:q.name}),(0,s.jsx)("button",{onClick:()=>P(!1),className:"text-gray-400 hover:text-white text-2xl",children:"✕"})]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-blue-300 mb-4",children:"\uD83D\uDE80 T\xednh năng:"}),(0,s.jsx)("div",{className:"space-y-2",children:q.features.map((e,t)=>(0,s.jsxs)("div",{className:"text-green-300 text-sm flex items-start",children:[(0,s.jsx)("span",{className:"mr-2 mt-1",children:"✓"}),(0,s.jsx)("span",{children:e})]},t))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-orange-300 mb-4",children:"\uD83D\uDCDD Ghi ch\xfa:"}),(0,s.jsx)("div",{className:"space-y-2",children:null==(e=q.notes)?void 0:e.map((e,t)=>(0,s.jsx)("div",{className:"text-gray-300 text-sm",children:e},t))})]})]}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-4 mt-8",children:[q.schematicUrl&&(0,s.jsx)("a",{href:q.schematicUrl,target:"_blank",rel:"noopener noreferrer",className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium transition-colors",children:"\uD83D\uDCCA Sơ đồ"}),(0,s.jsx)("button",{onClick:()=>{P(!1),l(q.id)},className:"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg font-medium transition-colors",children:"\uD83D\uDD27 Chọn firmware n\xe0y"}),q.youtubeUrl&&(0,s.jsx)("button",{onClick:()=>{P(!1),A(!0)},className:"bg-red-600 hover:bg-red-700 text-white px-6 py-3 rounded-lg font-medium transition-colors",children:"\uD83C\uDFA5 Xem hướng dẫn"})]})]})})}),F&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,s.jsx)("div",{className:"bg-gradient-to-r from-red-900 to-purple-900 rounded-2xl max-w-2xl w-full",children:(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("h3",{className:"text-xl font-bold text-white",children:"\uD83C\uDFA5 Video Hướng Dẫn"}),(0,s.jsx)("button",{onClick:()=>A(!1),className:"text-gray-400 hover:text-white text-xl",children:"✕"})]}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsxs)("div",{className:"bg-black/20 rounded-lg p-8 mb-6",children:[(0,s.jsx)("div",{className:"text-6xl mb-4",children:"\uD83D\uDCFA"}),(0,s.jsxs)("p",{className:"text-white mb-4",children:["Ch\xe0o mừng đến với ",(0,s.jsx)("strong",{children:"MinizFlash Tool"}),"!"]}),(0,s.jsx)("p",{className:"text-gray-300 text-sm",children:"Đăng k\xfd k\xeanh YouTube để xem hướng dẫn chi tiết v\xe0 nhận firmware mới nhất!"})]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,s.jsx)("a",{href:"https://www.youtube.com/@miniZjp",target:"_blank",rel:"noopener noreferrer",className:"bg-red-600 hover:bg-red-700 text-white px-8 py-3 rounded-lg font-medium transition-colors",children:"\uD83C\uDFAC Subscribe @miniZjp"}),(0,s.jsx)("button",{onClick:()=>A(!1),className:"bg-gray-600 hover:bg-gray-700 text-white px-8 py-3 rounded-lg font-medium transition-colors",children:"Bỏ qua"})]}),(0,s.jsx)("p",{className:"text-gray-400 text-xs mt-4",children:"\uD83D\uDCA1 Tip: Subscribe k\xeanh để nhận th\xf4ng b\xe1o firmware mới!"})]})]})})}),(0,s.jsx)("footer",{className:"bg-primary shadow-2xl border-t-4 border-primary-dark py-8",style:{boxShadow:"0 -10px 30px rgba(0,136,122,0.3)"},children:(0,s.jsxs)("div",{className:"container mx-auto px-4",children:[(0,s.jsxs)("div",{className:"grid md:grid-cols-3 gap-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-white font-semibold mb-4",children:"Li\xean Hệ"}),(0,s.jsxs)("div",{className:"space-y-2 text-white/80 text-sm",children:[(0,s.jsx)("a",{href:"http://zalo.me/0389827643",className:"block hover:text-white transition-colors",children:"\uD83D\uDCF1 Zalo: 0389827643"}),(0,s.jsx)("a",{href:"https://www.youtube.com/@miniZjp",target:"_blank",rel:"noopener noreferrer",className:"block hover:text-white transition-colors",children:"\uD83C\uDFA5 YouTube: @miniZjp"}),(0,s.jsx)("a",{href:"#",className:"block hover:text-white transition-colors",children:"\uD83D\uDCD8 Facebook"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-white font-semibold mb-4",children:"T\xe0i Nguy\xean"}),(0,s.jsxs)("div",{className:"space-y-2 text-white/80 text-sm",children:[(0,s.jsx)("a",{href:"#",className:"block hover:text-white",children:"\uD83D\uDCDA Hướng dẫn"}),(0,s.jsx)("a",{href:"#",className:"block hover:text-white",children:"\uD83D\uDD27 Tools"}),(0,s.jsx)("a",{href:"#",className:"block hover:text-white",children:"\uD83D\uDCBE Firmware Archive"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-white font-semibold mb-4",children:"Thống K\xea"}),(0,s.jsxs)("div",{className:"text-white/80 text-sm",children:[(0,s.jsx)("p",{className:"mb-2",children:"\uD83D\uDC65 Online: 1,234"}),(0,s.jsx)("p",{className:"mb-2",children:"\uD83D\uDCE6 Total Downloads: 45,678"}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("span",{className:"mr-2",children:"\uD83D\uDC41️"}),(0,s.jsx)(n.default,{src:"https://visitor-badge.laobi.icu/badge?page_id=esp32-flash-tool",alt:"Visitor count",className:"h-5",width:100,height:20})]})]})]})]}),(0,s.jsx)("div",{className:"border-t border-white/20 mt-8 pt-8 text-center",children:(0,s.jsxs)("p",{className:"text-white/70 text-sm",children:["\xa9 2025 ESP32 Flash Tool - Ph\xe1t triển bởi ",(0,s.jsx)("span",{className:"text-white font-semibold",children:"ESP32 VN Community"})]})})]})}),z&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 animate-fade-in",children:[(0,s.jsx)("button",{onClick:()=>{I(!1),R(null),y(!1),w("")},className:"float-right text-gray-400 hover:text-gray-600 text-2xl font-bold",children:"\xd7"}),(0,s.jsx)("h3",{className:"text-2xl font-bold text-primary mb-4",children:b?"✅ Đ\xe3 kết nối":"\uD83D\uDD0C Kết nối thiết bị"}),b?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{className:"text-green-600 mb-6 font-medium",children:"✅ Thiết bị đ\xe3 sẵn s\xe0ng! Bấm n\xfat b\xean dưới để bắt đầu nạp firmware"}),(0,s.jsx)("button",{onClick:async()=>{M&&(l(M),I(!1),await Z(M))},className:"w-full bg-green-500 hover:bg-green-600 text-white px-6 py-4 rounded-lg font-bold text-lg transition-colors shadow-lg animate-pulse",children:"⚡ Nạp Firmware"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{className:"text-gray-600 mb-6",children:"Vui l\xf2ng kết nối ESP32 qua USB để tiếp tục nạp firmware"}),(0,s.jsx)("button",{onClick:O,className:"w-full bg-accent-blue hover:bg-blue-700 text-white px-6 py-4 rounded-lg font-bold text-lg transition-colors shadow-lg",children:"\uD83D\uDD0C Kết nối ESP32"})]}),f&&(0,s.jsx)("div",{className:"mt-4 p-3 rounded-lg text-sm ".concat(f.includes("✅")?"bg-green-50 text-green-800":f.includes("❌")?"bg-red-50 text-red-800":"bg-blue-50 text-blue-800"),children:f})]})})]})}},6601:(e,t,r)=>{Promise.resolve().then(r.bind(r,96))}},e=>{e.O(0,[33,528,441,255,358],()=>e(e.s=6601)),_N_E=e.O()}]);